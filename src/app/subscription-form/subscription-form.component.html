<form id="subscription-form"
      #subForm="ngForm"
      (onSubmit)="log(subForm.form)">
    <h3>Subscription form</h3>
    <div class="form-group">
        <label for="name">Name</label>
        <input ngModel #name="ngModel" name="name"
               required minlength="5"
               type="text" class="form-control" id='name'>
        <div *ngIf="name.errors && name.touched">
            <div *ngIf="name.errors.required"
                 class="alert alert-danger">
                Name is required
            </div>
            <div *ngIf="name.errors.minlength"
                 class="alert alert-danger">
                You must enter at least {{name.errors.minlength.requiredLength}} characters
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input ngModel #email="ngModel" name="email" required
               type="email" class="form-control" id='email'>
        <div *ngIf="email.errors && email.touched">
            <div *ngIf="email.errors.required"
                 class="alert alert-danger">
                Email is required
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="email-frequency"></label>
        <select name="emailFrequency" id="email-frequency" class="form-control"
                ngModel #emailFrequency="ngModel" required>
            <option value="" disabled>Select the frequency you want to receive emails</option>
            <option *ngFor="let validity of listValidity" value="validity.name">{{ validity.name }}</option>
        </select>
        <div *ngIf="emailFrequency.errors && emailFrequency.touched">
            <div *ngIf="emailFrequency.errors.required"
                 class="alert alert-danger">
                Frequency is required
            </div>
        </div>
    </div>
    <button class="btn" type="submit"
            [disabled]="subForm.invalid">
        Subscribe !
    </button>
</form>